# 字跑大师 (Word Runner) - 项目文档

**当前版本**: v3.5.0 (2026-02-20)

## 📖 项目简介
《字跑大师》是一款结合了跑酷玩法与汉字学习教育功能的 Web 游戏。玩家操控角色在三条跑道上奔跑，通过识别任务拼音，收集对应的正确汉字，同时躲避障碍物和干扰项（错误汉字）。游戏旨在通过趣味互动帮助玩家巩固拼音与汉字的对应关系。

## ✨ v3.5.0 核心更新
- **独立导出功能 (Standalone Export)**: 控制面板新增“下载分享”功能，可一键生成包含当前所有配置（含 CSV 单词表、关卡规则、物理参数）的独立 HTML 文件。生成的单文件支持 100% 离线运行，不受 `file://` 协议的 `localStorage` 限制。
- **配置自愈逻辑**: 游戏引擎在启动时会检测内置的 `OFFLINE_CONFIG`，自动恢复所有导出时的个性化参数，实现真正意义上的“开箱即用”。
- **品牌高度锁定**: 
  - 启动界面标题锁定为 **“字跑大师”**。
  - 浏览器标签页标题锁定为 **“字跑大师”**。
  - 禁止动态从单元配置中修改软件名称，增强品牌一致性。
- **高级配置中心 v3.5**: 重构了配置面板 UI，支持 CSV 数据即时预览、两步数据绑定和多档位预设编辑。

## 🛠 技术栈
*   **核心语言**: HTML5, CSS3, Vanilla JavaScript (ES6+)
*   **渲染引擎**: Canvas API (2D Context)
*   **音频**: Web Audio API (合成音效 + 语音播报)
*   **存储**: LocalStorage + 离线注入配置 (Offline Injection)
*   **依赖**: 无外部框架 (No React/Vue/Phaser)，纯原生实现，保持轻量级。

## 🎮 游戏核心规则

### 1. 胜利条件 (通关)
满足以下**任一**条件即可通关当前关卡：
*   **累计正确**: 收集满 **9个** 正确汉字（可在配置面板自定义）。
*   **连续正确**: 连续收集 **4个** 正确汉字（连击）。

### 2. 失败条件 (Game Over)
满足以下**任一**条件游戏结束：
*   **生命耗尽**: 初始 **3点** 生命值，扣完即死。
*   **连续错误**: 连续收集 **4个** 错误项（干扰项）。
*   **超时**: 关卡倒计时结束后未完成任务。

## 🕹 操作控制
*   **移动**: `A` / `D` 键 或 `←` / `→` 方向键 (切换跑道)。
*   **跳跃**: `W` / `↑` 方向键 或 **双击触摸**。
*   **开始/暂停**: 界面按钮点击 或 `Space` 键。

## 📁 文件结构
*   `index.html`: 主游戏引擎，包含渲染逻辑、物理引擎和音频系统。
*   `control_panel.html`: v3.5 高级配置中心，支持可视化调整所有游戏参数并导出独立版。
*   `README.md`: 项目文档（本文）。

---
*Created by Antigravity Agent*
